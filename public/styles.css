/* Modern Dashboard Styles - Enhanced UI */
* { 
	box-sizing: border-box; 
	margin: 0;
	padding: 0;
}

:root {
	/* Light Theme Colors */
	--bg: #f8fafc;
	--panel: #ffffff;
	--text: #1e293b;
	--muted: #64748b;
	--card: #ffffff;
	--border: #e2e8f0;
	--primary: #6366f1;
	--primary-700: #4f46e5;
	--accent: #06b6d4;
	--success: #10b981;
	--warning: #f59e0b;
	--danger: #ef4444;
	--shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
	--radius: 20px;
	--radius-sm: 12px;
	--transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Dark Theme */
[data-theme="dark"] {
	--bg: #0f172a;
	--panel: #1e293b;
	--text: #f1f5f9;
	--muted: #94a3b8;
	--card: #1e293b;
	--border: #334155;
	--primary: #6366f1;
	--primary-700: #4f46e5;
	--accent: #06b6d4;
	--success: #10b981;
	--warning: #f59e0b;
	--danger: #ef4444;
	--shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
	--shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

body {
	font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	background: var(--bg);
	color: var(--text);
	line-height: 1.6;
	transition: var(--transition);
}

/* Layout */
.layout {
	display: grid;
	grid-template-columns: 320px 1fr;
	min-height: 100vh;
}

/* Sidebar */
.sidebar {
	background: var(--panel);
	border-right: 1px solid var(--border);
	display: grid;
	grid-template-rows: auto 1fr auto;
	box-shadow: var(--shadow);
}

.sidebar-header {
	padding: 24px 20px;
	border-bottom: 1px solid var(--border);
}

.sidebar-header h1 {
	font-size: 18px;
	font-weight: 700;
	color: var(--text);
	margin-bottom: 12px;
	display: flex;
	align-items: center;
	gap: 8px;
}

.system-status-indicator {
	display: flex;
	align-items: center;
	gap: 8px;
	font-size: 12px;
	color: var(--muted);
}

.status-dot {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background: var(--warning);
	animation: pulse 2s infinite;
}

.status-dot.online {
	background: var(--success);
}

.status-dot.offline {
	background: var(--danger);
}

@keyframes pulse {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.5; }
}

.sidebar-content {
	padding: 20px;
	overflow-y: auto;
}

.sidebar-content h2 {
	font-size: 14px;
	font-weight: 600;
	color: var(--muted);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	margin-bottom: 16px;
}

.sidebar-footer {
	padding: 20px;
	border-top: 1px solid var(--border);
}

.last-updated {
	display: flex;
	align-items: center;
	gap: 8px;
	font-size: 12px;
	color: var(--muted);
}

/* Lab List */
.lab-list {
	list-style: none;
	display: grid;
	gap: 8px;
}

.lab-link {
	display: grid;
	grid-template-columns: 48px 1fr auto;
	align-items: center;
	gap: 12px;
	padding: 16px;
	border-radius: var(--radius-sm);
	background: var(--card);
	border: 1px solid var(--border);
	text-decoration: none;
	color: inherit;
	transition: var(--transition);
	position: relative;
	overflow: hidden;
}

.lab-link::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
	opacity: 0;
	transition: var(--transition);
}

.lab-link:hover {
	transform: translateY(-2px);
	box-shadow: var(--shadow-lg);
	border-color: var(--primary);
}

.lab-link:hover::before {
	opacity: 1;
}

.lab-link.active {
	border-color: var(--primary);
	background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(6, 182, 212, 0.1));
}

.lab-icon {
	width: 48px;
	height: 48px;
	border-radius: var(--radius-sm);
	display: grid;
	place-items: center;
	background: linear-gradient(135deg, var(--primary), var(--accent));
	color: white;
	font-size: 20px;
	box-shadow: var(--shadow);
}

.lab-text {
	display: grid;
	gap: 4px;
}

.lab-name {
	font-weight: 600;
	color: var(--text);
}

.lab-sub {
	font-size: 12px;
	color: var(--muted);
}

.lab-cta {
	font-size: 12px;
	color: var(--primary);
	font-weight: 500;
}

/* Topbar */
.topbar {
	background: var(--panel);
	border-bottom: 1px solid var(--border);
	padding: 16px 24px;
	display: flex;
	align-items: center;
	justify-content: space-between;
	box-shadow: var(--shadow);
}

.topbar-left h1 {
	font-size: 24px;
	font-weight: 700;
	color: var(--text);
	display: flex;
	align-items: center;
	gap: 12px;
}

.brand-logo {
	width: 28px;
	height: 28px;
	flex: 0 0 28px;
	color: var(--primary-700);
	transition: var(--transition);
}

.brand-text {
	display: inline-flex;
	align-items: center;
	gap: 8px;
}

.theme-toggle {
	width: 46px;
	height: 46px;
	border-radius: 12px;
	background: var(--card);
	border: 1px solid var(--border);
	display: grid;
	place-items: center;
	cursor: pointer;
	transition: transform 0.22s ease, background 0.22s ease, border-color 0.22s ease;
	padding: 0;
}

.theme-toggle i {
	font-size: 18px;
	color: var(--text);
	transition: color 0.22s ease, transform 0.22s ease;
}

.theme-toggle:hover {
	transform: translateY(-2px) scale(1.03);
	box-shadow: var(--shadow-lg);
}

[data-theme="dark"] .brand-logo {
	color: var(--accent);
}

[data-theme="dark"] .theme-toggle {
	background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
	border-color: rgba(255,255,255,0.04);
}

[data-theme="dark"] .theme-toggle i {
	color: var(--text);
}

/* Summary Bar */
.summary-bar {
	display: grid;
	grid-template-columns: repeat(5, 1fr);
	gap: 16px;
	padding: 20px 24px;
	background: var(--panel);
	border-bottom: 1px solid var(--border);
}

.summary-item {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 16px;
	background: var(--card);
	border: 1px solid var(--border);
	border-radius: var(--radius-sm);
	transition: var(--transition);
	position: relative;
	overflow: hidden;
}

.summary-item::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	opacity: 0;
	transition: var(--transition);
}

.summary-item:hover {
	transform: translateY(-2px);
	box-shadow: var(--shadow-lg);
}

.cpu-icon { background: linear-gradient(135deg, #ef4444, #fb7185); }
.memory-icon { background: linear-gradient(135deg, #10b981, #4ade80); }
.disk-icon { background: linear-gradient(135deg, #3b82f6, #60a5fa); }
.network-icon { background: linear-gradient(135deg, #06b6d4, #2dd4bf); }
.uptime-icon { background: linear-gradient(135deg, #8b5cf6, #a78bfa); }

.summary-icon {
	width: 56px;
	height: 56px;
	border-radius: 14px;
	display: grid;
	place-items: center;
	color: white;
	font-size: 18px;
	box-shadow: var(--shadow);
	position: relative;
	overflow: hidden;
}

.summary-icon i {
	font-size: 20px;
	transform: translateY(-1px);
}

.summary-icon::after {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 50%;
	background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.03));
	opacity: 0.7;
	pointer-events: none;
}

.summary-content {
	display: grid;
	gap: 4px;
}

.summary-label {
	font-size: 12px;
	font-weight: 500;
	color: var(--muted);
	text-transform: uppercase;
	letter-spacing: 0.05em;
}

.summary-value {
	font-size: 20px;
	font-weight: 700;
	color: var(--text);
}

/* Main Content */
.content {
	display: grid;
	grid-template-rows: auto auto 1fr;
}

main {
	padding: 24px;
	display: grid;
	gap: 24px;
	overflow-y: auto;
}

/* Cards */
.card {
	background: var(--card);
	border: 1px solid var(--border);
	border-radius: var(--radius);
	padding: 24px;
	box-shadow: var(--shadow);
	transition: var(--transition);
}

.card:hover {
	box-shadow: var(--shadow-lg);
	transform: translateY(-2px);
}

.card-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 20px;
}

.card-header h3 {
	font-size: 18px;
	font-weight: 600;
	color: var(--text);
	display: flex;
	align-items: center;
	gap: 8px;
}

.stats {
	font-size: 12px;
	color: var(--muted);
	display: flex;
	gap: 16px;
	flex-wrap: wrap;
}

/* Welcome Card */
.welcome-card {
	background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
	border: 1px solid rgba(99, 102, 241, 0.2);
}

.welcome-content {
	display: flex;
	align-items: center;
	gap: 20px;
}

.welcome-icon {
	width: 64px;
	height: 64px;
	border-radius: var(--radius);
	background: linear-gradient(135deg, var(--primary), var(--accent));
	display: grid;
	place-items: center;
	color: white;
	font-size: 28px;
	box-shadow: var(--shadow-lg);
}

.welcome-text h2 {
	font-size: 24px;
	font-weight: 700;
	color: var(--text);
	margin-bottom: 8px;
}

.welcome-text p {
	color: var(--muted);
	font-size: 16px;
}

/* Status Card */
.status-card {
	background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(52, 211, 153, 0.05));
	border: 1px solid rgba(16, 185, 129, 0.2);
}

.status-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 16px;
}

.health-indicator {
	display: flex;
	align-items: center;
	gap: 8px;
}

.health-dot {
	width: 12px;
	height: 12px;
	border-radius: 50%;
	background: var(--warning);
	animation: pulse 2s infinite;
}

.health-dot.healthy {
	background: var(--success);
}

.health-dot.warning {
	background: var(--warning);
}

.health-dot.danger {
	background: var(--danger);
}

.health-text {
	font-size: 14px;
	font-weight: 500;
	color: var(--text);
}

.status-content {
	display: grid;
	gap: 12px;
}

.status-metrics {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	gap: 16px;
}

.metric-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 12px 16px;
	background: var(--bg);
	border-radius: var(--radius-sm);
	border: 1px solid var(--border);
}

.metric-label {
	font-size: 12px;
	color: var(--muted);
	font-weight: 500;
}

.metric-value {
	font-size: 14px;
	font-weight: 600;
	color: var(--text);
}

/* Charts */
.charts-grid {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 20px;
}

.chart-card {
	background: var(--bg);
	border: 1px solid var(--border);
	border-radius: var(--radius-sm);
	padding: 16px;
	transition: var(--transition);
}

.chart-card:hover {
	box-shadow: var(--shadow);
}

.chart-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 12px;
}

.chart-title {
	font-size: 12px;
	color: var(--muted);
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	display: flex;
	align-items: center;
	gap: 6px;
}

.chart-value {
	font-size: 16px;
	font-weight: 700;
	color: var(--text);
}

.chart-canvas {
	height: 160px !important;
}

/* PC Grid */
.pcs-section {
	background: var(--card);
	border: 1px solid var(--border);
	border-radius: var(--radius);
	padding: 24px;
	box-shadow: var(--shadow);
}

.section-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 20px;
}

.section-header h2 {
	font-size: 20px;
	font-weight: 600;
	color: var(--text);
	display: flex;
	align-items: center;
	gap: 8px;
}

.pc-count {
	font-size: 12px;
	color: var(--muted);
	background: var(--bg);
	padding: 6px 12px;
	border-radius: var(--radius-sm);
	border: 1px solid var(--border);
}

.pc-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
	gap: 16px;
}

.pc-card {
	background: var(--bg);
	border: 1px solid var(--border);
	border-radius: var(--radius-sm);
	padding: 20px;
	cursor: pointer;
	transition: var(--transition);
	position: relative;
	overflow: hidden;
}

.pc-card::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
	opacity: 0;
	transition: var(--transition);
}

.pc-card:hover {
	transform: translateY(-4px);
	box-shadow: var(--shadow-lg);
	border-color: var(--primary);
}

.pc-card:hover::before {
	opacity: 1;
}

.pc-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 16px;
}

.pc-id {
	display: flex;
	align-items: center;
	gap: 12px;
}

.pc-id .dot {
	width: 12px;
	height: 12px;
	border-radius: 50%;
	background: var(--success);
	animation: pulse 2s infinite;
}

.pc-id .dot.warning {
	background: var(--warning);
}

.pc-id .dot.danger {
	background: var(--danger);
}

.pc-id strong {
	font-size: 16px;
	font-weight: 600;
	color: var(--text);
}

.pc-avg {
	font-size: 12px;
	color: var(--muted);
	text-align: right;
}

.mini-grid {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 12px;
}

.mini-grid canvas {
	height: 80px !important;
	border-radius: var(--radius-sm);
}

/* Process List */
.process-list {
    padding: 12px;
    border-radius: 12px;
}
.process-items { display: grid; gap: 8px; }
.process-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    border-radius: 8px;
    border: 1px solid var(--border);
}
.process-item .process-name { font-weight:600; color: var(--text); }
.process-item .process-stats { color: var(--muted); font-size: 13px; }

/* Lab-level top processes styling */
.lab-processes {
	padding: 12px 16px;
	border-radius: 12px;
}
.lab-processes .process-rows {
	display: flex;
	gap: 18px;
	flex-wrap: wrap;
}
.lab-processes .process-section {
	min-width: 220px;
	background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
	border: 1px solid var(--border);
	padding: 12px;
	border-radius: 10px;
}
.lab-processes .process-section h5 {
	margin: 0 0 8px 0;
	font-size: 13px;
	color: var(--muted);
}
.lab-processes .process-item-row {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 8px 0;
	border-bottom: 1px dashed rgba(0,0,0,0.03);
}
.lab-processes .process-item-row:last-child { border-bottom: none; }
.lab-processes .process-name { font-weight:700; color: var(--text); font-size: 14px; }
.lab-processes .process-stats { color: var(--muted); font-size: 13px; margin-left: auto; text-align: right; }
.lab-processes .proc-badge {
	width: 36px;
	height: 36px;
	border-radius: 8px;
	background: linear-gradient(135deg, var(--primary), var(--accent));
	color: white;
	display: grid;
	place-items: center;
	font-size: 12px;
	font-weight: 700;
	flex: 0 0 36px;
}


/* Animations */
@keyframes fadeIn {
	from { opacity: 0; transform: translateY(20px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes slideIn {
	from { opacity: 0; transform: translateX(-20px); }
	to { opacity: 1; transform: translateX(0); }
}

.fade-in {
	animation: fadeIn 0.5s ease-out;
}

.slide-in {
	animation: slideIn 0.3s ease-out;
}

/* Responsive Design */
@media (max-width: 1024px) {
	.layout {
		grid-template-columns: 280px 1fr;
	}
	
	.summary-bar {
		grid-template-columns: repeat(3, 1fr);
	}
	
	.charts-grid {
		grid-template-columns: 1fr;
	}
}

@media (max-width: 768px) {
	.layout {
		grid-template-columns: 1fr;
		grid-template-rows: auto 1fr;
	}
	
	.sidebar {
		grid-template-columns: 1fr auto;
		grid-template-rows: 1fr;
		border-right: none;
		border-bottom: 1px solid var(--border);
	}
	
	.summary-bar {
		grid-template-columns: repeat(2, 1fr);
		gap: 12px;
		padding: 16px;
	}
	
	.pc-grid {
		grid-template-columns: 1fr;
	}
}

@media (max-width: 480px) {
	.summary-bar {
		grid-template-columns: 1fr;
	}
	
	main {
		padding: 16px;
		gap: 16px;
	}
}

/* Loading States */
.loading {
	opacity: 0.6;
	pointer-events: none;
}

.skeleton {
	background: linear-gradient(90deg, var(--border) 25%, rgba(255,255,255,0.5) 50%, var(--border) 75%);
	background-size: 200% 100%;
	animation: loading 1.5s infinite;
}

@keyframes loading {
	0% { background-position: 200% 0; }
	100% { background-position: -200% 0; }
}

/* Accessibility helper */
.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; border: 0; padding: 0; margin: -1px; }